{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nimport * as React from 'react';\nimport { flatten } from 'flat';\nimport { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport { getLocalizedElement, getIndexForLanguageCode, objectValuesToString, validateOptions, getTranslationsForLanguage, warning, getSingleToMultilanguageTranslation } from './utils';\n/**\n * TYPES\n */\n// This is to get around the whole default options issue with Flow\n// I tried using the $Diff approach, but with no luck so for now stuck with this terd.\n// Because sometimes you just want flow to shut up!\n\n/**\n * ACTIONS\n */\n\nexport var INITIALIZE = '@@localize/INITIALIZE';\nexport var ADD_TRANSLATION = '@@localize/ADD_TRANSLATION';\nexport var ADD_TRANSLATION_FOR_LANGUAGE = '@@localize/ADD_TRANSLATION_FOR_LANGUAGE';\nexport var SET_ACTIVE_LANGUAGE = '@@localize/SET_ACTIVE_LANGUAGE';\nexport var TRANSLATE = '@@localize/TRANSLATE';\n/**\n * REDUCERS\n */\n\nexport function languages() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n      var _options = action.payload.options || {};\n\n      return action.payload.languages.map(function (language, index) {\n        var isActive = function isActive(code) {\n          return _options.defaultLanguage !== undefined ? code === _options.defaultLanguage : index === 0;\n        }; // check if it's using array of Language objects, or array of language codes\n\n\n        return typeof language === 'string' ? {\n          code: language,\n          active: isActive(language) // language codes\n\n        } : _extends({}, language, {\n          active: isActive(language.code)\n        }); // language objects\n      });\n\n    case SET_ACTIVE_LANGUAGE:\n      return state.map(function (language) {\n        return language.code === action.payload.languageCode ? _extends({}, language, {\n          active: true\n        }) : _extends({}, language, {\n          active: false\n        });\n      });\n\n    default:\n      return state;\n  }\n}\nexport function translations() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments[1];\n  var flattenedTranslations = void 0;\n  var translationWithTransform = void 0;\n\n  switch (action.type) {\n    case INITIALIZE:\n      if (!action.payload.translation) {\n        return state;\n      }\n\n      flattenedTranslations = flatten(action.payload.translation, {\n        safe: true\n      });\n\n      var _options2 = action.payload.options || {};\n\n      var firstLanguage = typeof action.payload.languages[0] === 'string' ? action.payload.languages[0] : action.payload.languages[0].code;\n\n      var _defaultLanguage = _options2.defaultLanguage || firstLanguage;\n\n      var isMultiLanguageTranslation = Object.keys(flattenedTranslations).some(function (item) {\n        return Array.isArray(flattenedTranslations[item]);\n      }); // add translation based on whether it is single vs multi language translation data\n\n      var newTranslation = isMultiLanguageTranslation ? flattenedTranslations : getSingleToMultilanguageTranslation(_defaultLanguage, action.languageCodes, flattenedTranslations, state);\n      return _extends({}, state, newTranslation);\n\n    case ADD_TRANSLATION:\n      translationWithTransform = action.payload.translationOptions && action.payload.translationOptions.translationTransform !== undefined ? action.payload.translationOptions.translationTransform(action.payload.translation || {}, action.languageCodes) : action.payload.translation;\n      return _extends({}, state, flatten(translationWithTransform, {\n        safe: true\n      }));\n\n    case ADD_TRANSLATION_FOR_LANGUAGE:\n      flattenedTranslations = flatten(action.payload.translation, {\n        safe: true\n      });\n      return _extends({}, state, getSingleToMultilanguageTranslation(action.payload.language, action.languageCodes, flattenedTranslations, state));\n\n    default:\n      return state;\n  }\n}\nexport function options() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultTranslateOptions;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n      var _options3 = action.payload.options || {};\n\n      var _defaultLanguage2 = _options3.defaultLanguage || action.languageCodes[0];\n\n      return _extends({}, state, validateOptions(_options3), {\n        defaultLanguage: _defaultLanguage2\n      });\n\n    default:\n      return state;\n  }\n}\nexport var defaultTranslateOptions = {\n  renderToStaticMarkup: false,\n  renderInnerHtml: false,\n  ignoreTranslateChildren: false,\n  defaultLanguage: '',\n  onMissingTranslation: function onMissingTranslation(_ref) {\n    var translationId = _ref.translationId,\n        languageCode = _ref.languageCode;\n    return 'Missing translationId: ${ translationId } for language: ${ languageCode }';\n  }\n};\nvar initialState = {\n  languages: [],\n  translations: {},\n  options: defaultTranslateOptions\n};\nexport var localizeReducer = function localizeReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1]; // execute the languages reducer first as we need access to those values for other reducers\n\n  var languagesState = languages(state.languages, action);\n  var languageCodes = languagesState.map(function (language) {\n    return language.code;\n  });\n  return {\n    languages: languagesState,\n    translations: translations(state.translations, _extends({}, action, {\n      languageCodes: languageCodes\n    })),\n    options: options(state.options, _extends({}, action, {\n      languageCodes: languageCodes\n    }))\n  };\n};\n/**\n * ACTION CREATORS\n */\n\nexport var initialize = function initialize(payload) {\n  return {\n    type: INITIALIZE,\n    payload: payload\n  };\n};\nexport var addTranslation = function addTranslation(translation, options) {\n  return {\n    type: ADD_TRANSLATION,\n    payload: {\n      translation: translation,\n      translationOptions: options\n    }\n  };\n};\nexport var addTranslationForLanguage = function addTranslationForLanguage(translation, language) {\n  return {\n    type: ADD_TRANSLATION_FOR_LANGUAGE,\n    payload: {\n      translation: translation,\n      language: language\n    }\n  };\n};\nexport var setActiveLanguage = function setActiveLanguage(languageCode) {\n  return {\n    type: SET_ACTIVE_LANGUAGE,\n    payload: {\n      languageCode: languageCode\n    }\n  };\n};\n/**\n * SELECTORS\n */\n\nexport var getTranslations = function getTranslations(state) {\n  return state.translations;\n};\nexport var getLanguages = function getLanguages(state) {\n  return state.languages;\n};\nexport var getOptions = function getOptions(state) {\n  return state.options;\n};\nexport var getActiveLanguage = function getActiveLanguage(state) {\n  var languages = getLanguages(state);\n  return languages.filter(function (language) {\n    return language.active === true;\n  })[0];\n};\n/**\n * A custom equality checker that checker that compares an objects keys and values instead of === comparison\n * e.g. {name: 'Ted', sport: 'hockey'} would result in 'name,sport - Ted,hocker' which would be used for comparison\n *\n * NOTE: This works with activeLanguage, languages, and translations data types.\n * If a new data type is added to selector this would need to be updated to accomodate\n */\n\nexport var translationsEqualSelector = createSelectorCreator(defaultMemoize, function (prev, cur) {\n  var prevKeys = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === 'object' ? Object.keys(prev).toString() : undefined;\n  var curKeys = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === 'object' ? Object.keys(cur).toString() : undefined;\n  var prevValues = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === 'object' ? objectValuesToString(prev) : undefined;\n  var curValues = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === 'object' ? objectValuesToString(cur) : undefined;\n  var prevCacheValue = prevKeys !== undefined && prevValues !== undefined ? prevKeys + ' - ' + prevValues : prev;\n  var curCacheValue = curKeys !== undefined && curValues !== undefined ? curKeys + ' - ' + curValues : cur;\n  return prevCacheValue === curCacheValue;\n});\nexport var getTranslationsForActiveLanguage = translationsEqualSelector(getActiveLanguage, getLanguages, getTranslations, getTranslationsForLanguage);\nexport var getTranslationsForSpecificLanguage = translationsEqualSelector(getLanguages, getTranslations, function (languages, translations) {\n  return defaultMemoize(function (languageCode) {\n    return getTranslationsForLanguage({\n      code: languageCode,\n      active: false\n    }, languages, translations);\n  });\n});\nvar getTranslate = createSelector(getTranslationsForActiveLanguage, getTranslationsForSpecificLanguage, getActiveLanguage, getOptions, function (translationsForActiveLanguage, getTranslationsForLanguage, activeLanguage, initializeOptions) {\n  return function (value) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var translateOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var defaultLanguage = initializeOptions.defaultLanguage,\n        defaultOptions = _objectWithoutProperties(initializeOptions, ['defaultLanguage']);\n\n    var overrideLanguage = translateOptions.language;\n    var translations = overrideLanguage !== undefined ? getTranslationsForLanguage(overrideLanguage) : translationsForActiveLanguage;\n    var defaultTranslations = activeLanguage && activeLanguage.code === defaultLanguage ? translationsForActiveLanguage : getTranslationsForLanguage(defaultLanguage);\n    var languageCode = overrideLanguage !== undefined ? overrideLanguage : activeLanguage && activeLanguage.code;\n\n    var mergedOptions = _extends({}, defaultOptions, translateOptions);\n\n    var getTranslation = function getTranslation(translationId) {\n      var hasValidTranslation = translations[translationId] !== undefined;\n      var hasValidDefaultTranslation = defaultTranslations[translationId] !== undefined;\n      var defaultTranslation = hasValidDefaultTranslation ? getLocalizedElement({\n        translation: defaultTranslations[translationId],\n        data: data,\n        renderInnerHtml: mergedOptions.renderInnerHtml\n      }) : \"No default translation found! Ensure you've added translations for your default langauge.\"; // if translation is not valid then generate the on missing translation message in it's place\n\n      var translation = hasValidTranslation ? translations[translationId] : mergedOptions.onMissingTranslation({\n        translationId: translationId,\n        languageCode: languageCode,\n        defaultTranslation: defaultTranslation\n      }); // if translations are missing than ovrride data to include translationId, languageCode\n      // as these will be needed to render missing translations message\n\n      var translationData = hasValidTranslation ? data : {\n        translationId: translationId,\n        languageCode: languageCode\n      };\n      return getLocalizedElement({\n        translation: translation,\n        data: translationData,\n        languageCode: languageCode,\n        renderInnerHtml: mergedOptions.renderInnerHtml\n      });\n    };\n\n    if (typeof value === 'string') {\n      return getTranslation(value);\n    } else if (Array.isArray(value)) {\n      return value.reduce(function (prev, cur) {\n        return _extends({}, prev, _defineProperty({}, cur, getTranslation(cur)));\n      }, {});\n    } else {\n      throw new Error('react-localize-redux: Invalid key passed to getTranslate.');\n    }\n  };\n});\nexport { getTranslate };","map":{"version":3,"sources":["/home/mediamonster/Desktop/react_app/bivak/node_modules/react-localize-redux/es/localize.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","_defineProperty","value","defineProperty","enumerable","configurable","writable","_objectWithoutProperties","keys","indexOf","React","flatten","createSelector","createSelectorCreator","defaultMemoize","getLocalizedElement","getIndexForLanguageCode","objectValuesToString","validateOptions","getTranslationsForLanguage","warning","getSingleToMultilanguageTranslation","INITIALIZE","ADD_TRANSLATION","ADD_TRANSLATION_FOR_LANGUAGE","SET_ACTIVE_LANGUAGE","TRANSLATE","languages","state","undefined","action","type","_options","payload","options","map","language","index","isActive","code","defaultLanguage","active","languageCode","translations","flattenedTranslations","translationWithTransform","translation","safe","_options2","firstLanguage","_defaultLanguage","isMultiLanguageTranslation","some","item","Array","isArray","newTranslation","languageCodes","translationOptions","translationTransform","defaultTranslateOptions","_options3","_defaultLanguage2","renderToStaticMarkup","renderInnerHtml","ignoreTranslateChildren","onMissingTranslation","_ref","translationId","initialState","localizeReducer","languagesState","initialize","addTranslation","addTranslationForLanguage","setActiveLanguage","getTranslations","getLanguages","getOptions","getActiveLanguage","filter","translationsEqualSelector","prev","cur","prevKeys","toString","curKeys","prevValues","curValues","prevCacheValue","curCacheValue","getTranslationsForActiveLanguage","getTranslationsForSpecificLanguage","getTranslate","translationsForActiveLanguage","activeLanguage","initializeOptions","data","translateOptions","defaultOptions","overrideLanguage","defaultTranslations","mergedOptions","getTranslation","hasValidTranslation","hasValidDefaultTranslation","defaultTranslation","translationData","reduce","Error"],"mappings":"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","sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport * as React from 'react';\nimport { flatten } from 'flat';\nimport { createSelector, createSelectorCreator, defaultMemoize } from 'reselect';\nimport { getLocalizedElement, getIndexForLanguageCode, objectValuesToString, validateOptions, getTranslationsForLanguage, warning, getSingleToMultilanguageTranslation } from './utils';\n\n/**\n * TYPES\n */\n\n\n// This is to get around the whole default options issue with Flow\n// I tried using the $Diff approach, but with no luck so for now stuck with this terd.\n// Because sometimes you just want flow to shut up!\n\n\n/**\n * ACTIONS\n */\nexport var INITIALIZE = '@@localize/INITIALIZE';\nexport var ADD_TRANSLATION = '@@localize/ADD_TRANSLATION';\nexport var ADD_TRANSLATION_FOR_LANGUAGE = '@@localize/ADD_TRANSLATION_FOR_LANGUAGE';\nexport var SET_ACTIVE_LANGUAGE = '@@localize/SET_ACTIVE_LANGUAGE';\nexport var TRANSLATE = '@@localize/TRANSLATE';\n\n/**\n * REDUCERS\n */\nexport function languages() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n      var _options = action.payload.options || {};\n      return action.payload.languages.map(function (language, index) {\n        var isActive = function isActive(code) {\n          return _options.defaultLanguage !== undefined ? code === _options.defaultLanguage : index === 0;\n        };\n        // check if it's using array of Language objects, or array of language codes\n        return typeof language === 'string' ? { code: language, active: isActive(language) // language codes\n        } : _extends({}, language, { active: isActive(language.code) }); // language objects\n      });\n    case SET_ACTIVE_LANGUAGE:\n      return state.map(function (language) {\n        return language.code === action.payload.languageCode ? _extends({}, language, { active: true }) : _extends({}, language, { active: false });\n      });\n    default:\n      return state;\n  }\n}\n\nexport function translations() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var action = arguments[1];\n\n  var flattenedTranslations = void 0;\n  var translationWithTransform = void 0;\n\n  switch (action.type) {\n    case INITIALIZE:\n      if (!action.payload.translation) {\n        return state;\n      }\n\n      flattenedTranslations = flatten(action.payload.translation, {\n        safe: true\n      });\n      var _options2 = action.payload.options || {};\n      var firstLanguage = typeof action.payload.languages[0] === 'string' ? action.payload.languages[0] : action.payload.languages[0].code;\n      var _defaultLanguage = _options2.defaultLanguage || firstLanguage;\n      var isMultiLanguageTranslation = Object.keys(flattenedTranslations).some(function (item) {\n        return Array.isArray(flattenedTranslations[item]);\n      });\n\n      // add translation based on whether it is single vs multi language translation data\n      var newTranslation = isMultiLanguageTranslation ? flattenedTranslations : getSingleToMultilanguageTranslation(_defaultLanguage, action.languageCodes, flattenedTranslations, state);\n\n      return _extends({}, state, newTranslation);\n    case ADD_TRANSLATION:\n      translationWithTransform = action.payload.translationOptions && action.payload.translationOptions.translationTransform !== undefined ? action.payload.translationOptions.translationTransform(action.payload.translation || {}, action.languageCodes) : action.payload.translation;\n      return _extends({}, state, flatten(translationWithTransform, { safe: true }));\n    case ADD_TRANSLATION_FOR_LANGUAGE:\n      flattenedTranslations = flatten(action.payload.translation, {\n        safe: true\n      });\n      return _extends({}, state, getSingleToMultilanguageTranslation(action.payload.language, action.languageCodes, flattenedTranslations, state));\n    default:\n      return state;\n  }\n}\n\nexport function options() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultTranslateOptions;\n  var action = arguments[1];\n\n  switch (action.type) {\n    case INITIALIZE:\n      var _options3 = action.payload.options || {};\n      var _defaultLanguage2 = _options3.defaultLanguage || action.languageCodes[0];\n      return _extends({}, state, validateOptions(_options3), { defaultLanguage: _defaultLanguage2 });\n    default:\n      return state;\n  }\n}\n\nexport var defaultTranslateOptions = {\n  renderToStaticMarkup: false,\n  renderInnerHtml: false,\n  ignoreTranslateChildren: false,\n  defaultLanguage: '',\n  onMissingTranslation: function onMissingTranslation(_ref) {\n    var translationId = _ref.translationId,\n        languageCode = _ref.languageCode;\n    return 'Missing translationId: ${ translationId } for language: ${ languageCode }';\n  }\n};\n\nvar initialState = {\n  languages: [],\n  translations: {},\n  options: defaultTranslateOptions\n};\n\nexport var localizeReducer = function localizeReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments[1];\n\n  // execute the languages reducer first as we need access to those values for other reducers\n  var languagesState = languages(state.languages, action);\n  var languageCodes = languagesState.map(function (language) {\n    return language.code;\n  });\n\n  return {\n    languages: languagesState,\n    translations: translations(state.translations, _extends({}, action, {\n      languageCodes: languageCodes\n    })),\n    options: options(state.options, _extends({}, action, { languageCodes: languageCodes }))\n  };\n};\n\n/**\n * ACTION CREATORS\n */\nexport var initialize = function initialize(payload) {\n  return {\n    type: INITIALIZE,\n    payload: payload\n  };\n};\n\nexport var addTranslation = function addTranslation(translation, options) {\n  return {\n    type: ADD_TRANSLATION,\n    payload: {\n      translation: translation,\n      translationOptions: options\n    }\n  };\n};\n\nexport var addTranslationForLanguage = function addTranslationForLanguage(translation, language) {\n  return {\n    type: ADD_TRANSLATION_FOR_LANGUAGE,\n    payload: { translation: translation, language: language }\n  };\n};\n\nexport var setActiveLanguage = function setActiveLanguage(languageCode) {\n  return {\n    type: SET_ACTIVE_LANGUAGE,\n    payload: { languageCode: languageCode }\n  };\n};\n\n/**\n * SELECTORS\n */\nexport var getTranslations = function getTranslations(state) {\n  return state.translations;\n};\n\nexport var getLanguages = function getLanguages(state) {\n  return state.languages;\n};\n\nexport var getOptions = function getOptions(state) {\n  return state.options;\n};\n\nexport var getActiveLanguage = function getActiveLanguage(state) {\n  var languages = getLanguages(state);\n  return languages.filter(function (language) {\n    return language.active === true;\n  })[0];\n};\n\n/**\n * A custom equality checker that checker that compares an objects keys and values instead of === comparison\n * e.g. {name: 'Ted', sport: 'hockey'} would result in 'name,sport - Ted,hocker' which would be used for comparison\n *\n * NOTE: This works with activeLanguage, languages, and translations data types.\n * If a new data type is added to selector this would need to be updated to accomodate\n */\nexport var translationsEqualSelector = createSelectorCreator(defaultMemoize, function (prev, cur) {\n  var prevKeys = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === 'object' ? Object.keys(prev).toString() : undefined;\n  var curKeys = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === 'object' ? Object.keys(cur).toString() : undefined;\n\n  var prevValues = (typeof prev === 'undefined' ? 'undefined' : _typeof(prev)) === 'object' ? objectValuesToString(prev) : undefined;\n  var curValues = (typeof cur === 'undefined' ? 'undefined' : _typeof(cur)) === 'object' ? objectValuesToString(cur) : undefined;\n\n  var prevCacheValue = prevKeys !== undefined && prevValues !== undefined ? prevKeys + ' - ' + prevValues : prev;\n\n  var curCacheValue = curKeys !== undefined && curValues !== undefined ? curKeys + ' - ' + curValues : cur;\n\n  return prevCacheValue === curCacheValue;\n});\n\nexport var getTranslationsForActiveLanguage = translationsEqualSelector(getActiveLanguage, getLanguages, getTranslations, getTranslationsForLanguage);\n\nexport var getTranslationsForSpecificLanguage = translationsEqualSelector(getLanguages, getTranslations, function (languages, translations) {\n  return defaultMemoize(function (languageCode) {\n    return getTranslationsForLanguage({ code: languageCode, active: false }, languages, translations);\n  });\n});\n\nvar getTranslate = createSelector(getTranslationsForActiveLanguage, getTranslationsForSpecificLanguage, getActiveLanguage, getOptions, function (translationsForActiveLanguage, getTranslationsForLanguage, activeLanguage, initializeOptions) {\n  return function (value) {\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var translateOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var defaultLanguage = initializeOptions.defaultLanguage,\n        defaultOptions = _objectWithoutProperties(initializeOptions, ['defaultLanguage']);\n\n    var overrideLanguage = translateOptions.language;\n\n    var translations = overrideLanguage !== undefined ? getTranslationsForLanguage(overrideLanguage) : translationsForActiveLanguage;\n\n    var defaultTranslations = activeLanguage && activeLanguage.code === defaultLanguage ? translationsForActiveLanguage : getTranslationsForLanguage(defaultLanguage);\n\n    var languageCode = overrideLanguage !== undefined ? overrideLanguage : activeLanguage && activeLanguage.code;\n\n    var mergedOptions = _extends({}, defaultOptions, translateOptions);\n\n    var getTranslation = function getTranslation(translationId) {\n      var hasValidTranslation = translations[translationId] !== undefined;\n      var hasValidDefaultTranslation = defaultTranslations[translationId] !== undefined;\n\n      var defaultTranslation = hasValidDefaultTranslation ? getLocalizedElement({\n        translation: defaultTranslations[translationId],\n        data: data,\n        renderInnerHtml: mergedOptions.renderInnerHtml\n      }) : \"No default translation found! Ensure you've added translations for your default langauge.\";\n\n      // if translation is not valid then generate the on missing translation message in it's place\n      var translation = hasValidTranslation ? translations[translationId] : mergedOptions.onMissingTranslation({\n        translationId: translationId,\n        languageCode: languageCode,\n        defaultTranslation: defaultTranslation\n      });\n\n      // if translations are missing than ovrride data to include translationId, languageCode\n      // as these will be needed to render missing translations message\n      var translationData = hasValidTranslation ? data : { translationId: translationId, languageCode: languageCode };\n\n      return getLocalizedElement({\n        translation: translation,\n        data: translationData,\n        languageCode: languageCode,\n        renderInnerHtml: mergedOptions.renderInnerHtml\n      });\n    };\n\n    if (typeof value === 'string') {\n      return getTranslation(value);\n    } else if (Array.isArray(value)) {\n      return value.reduce(function (prev, cur) {\n        return _extends({}, prev, _defineProperty({}, cur, getTranslation(cur)));\n      }, {});\n    } else {\n      throw new Error('react-localize-redux: Invalid key passed to getTranslate.');\n    }\n  };\n});\nexport { getTranslate };"]},"metadata":{},"sourceType":"module"}